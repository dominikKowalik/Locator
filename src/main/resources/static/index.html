<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <!--Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <title>login</title>
</head>
<body>

<div ng-cloak ng-app="locator" class="container">
    <!--app form-->

    <div ng-hide="isAppHidden" ng-controller="appController">
        <nav class="navbar navbar-default">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand active" href="#">{{username}}</a>
                </div>
                <ul class="nav navbar-nav">
                    <li><a ng-click="listUsers()" href="">Użytkownicy</a></li>
                    <li><a ng-click="listFriends()" href="">Znajomi</a></li>
                    <li><a ng-click="initMap()" href="">Mapa</a></li>
                    <li><a ng-click="logout()" class="pull-right" href="">Wyloguj Się</a></li>
                </ul>
            </div>
        </nav>

        <div id="map" style="width:100%;height:500px"></div>
        <script src="https://maps.googleapis.com/maps/api/js?callback=myMap&key=AIzaSyB5nwXpczQB7_mciBP1yEX6sJrwsMoBDPo"></script>

        <table ng-hide="isFriendsTableHidden"  class="table table-condensed">
            <thead>
            <tr>
                <th>Nazwa użytkownika</th>
                <th>Status</th>
                <th>Długość Geograficzna</th>
                <th>Szerokość Geograficzna</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="x in friends">
                <td>{{x.username}}</td>
                <td>{{x.statement}}</td>
                <td>{{x.locationInfo.longitude}}</td>
                <td>{{x.locationInfo.latitude}}</td>
            </tr>
            </tbody>
        </table>

        <table ng-hide="isUsersTableHidden"  class="table table-condensed">
            <thead>
            <tr>
                <th>Nazwa użytkownika</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-if="x.username != username" ng-repeat="x in names">
                <td>{{x.username}}</td>
                <td><Button ng-click="addToFriends(x.username)" class="btn btn-success">Dodaj do znajomych</Button></td>
            </tr>
            </tbody>
        </table>
    </div>

    <!--registration and login forms-->
    <div ng-hide="isLoginRegisterHidden" ng-controller="loginController">

        <div class="col-xs-4">
        </div>

        <!--login form-->
        <div class="col-xs-4 " style="margin:100px 0 5px 0" ng-cloak ng-hide="isLoginFormHidden">
            <div class="panel-body">
                <h3 class="text-center text-info">Logowanie</h3>
                <div class="row">
                    <input style="margin:0px 0 5px 0" id="username" ng-model="user" class="form-control" type="text"
                           placeholder="Wprowadź nazwe użytkownika">
                </div>
                <div class="row">
                    <input id="password" ng-model="pass" style="margin:0 0 5px 0" type="password"
                           class="form-control"
                           placeholder="Wprowadź hasło">
                </div>
                <div class="row">
                    <button ng-click="signIn()" style="margin:0 0 5px 0" class="btn btn-primary btn-block">
                        Zaloguj się
                    </button>
                    <button ng-click="showOppositeForm()" style="margin:0 0 5px 0" class="btn btn-link btn-block">
                        Nie masz konta? Zarejestruj się!
                    </button>
                </div>
            </div>
            <div class="row" ng-hide="isHidden">
                <div class="alert alert-warning">
                    <p class="text-center">{{result}}</p>
                </div>
            </div>
        </div>

        <!--register form-->
        <div class="col-xs-4 " style="margin:100px 0 5px 0" ng-cloak ng-hide="isRegisterFormHidden">
            <div class="panel-body">
                <h3 class="text-center text-info">Rejestracja</h3>
                <div class="row">
                    <input style="margin:0px 0 5px 0" id="usernameR" ng-model="usernameR" class="form-control"
                           type="text"
                           placeholder="Wprowadź nazwe użytkownika">
                </div>
                <div class="row">
                    <input id="passwordR" ng-model="passR" style="margin:0 0 5px 0" type="password"
                           class="form-control"
                           placeholder="Wprowadź hasło">
                </div>
                <div class="row">
                    <input id="passwordConfirm" ng-model="passConfirm" style="margin:0 0 5px 0" type="password"
                           class="form-control"
                           placeholder="Powtórz hasło">
                </div>
                <div class="row">
                    <input required id="email" ng-model="emailR" style="margin:0 0 5px 0" type="email"
                           class="form-control"
                           placeholder="Wprowadź e-mail">
                </div>
                <div class="row">
                    <button ng-click="signUp()" style="margin:0 0 5px 0" class="btn btn-primary btn-block">
                        Zarejestruj się
                    </button>
                </div>
                <div class="row">
                    <button ng-click="showOppositeForm()" style="margin:0 0 5px 0" class="btn btn-success btn-block">
                        Wróć do logowania
                    </button>
                </div>
                <div class="row" ng-hide="isHidden">
                    <div class="alert alert-warning">
                        <p class="text-center">{{result}}</p>
                    </div>
                </div>
                <div class="row" ng-hide="isHiddenSuccess">
                    <div class="alert alert-success">
                        <p class="text-center">{{result}}</p>
                    </div>
                </div>
            </div>
        </div>


        <div class="col-xs-4">
        </div>

    </div>

    <script src="index.js"/>
</div>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>-->
<!--<script src="jquery-3.1.1.min.js"></script>-->
<!--</head>-->
<!--<body>-->
<!--<div ng-app="locator" ng-controller="getUser">-->

<!--<p>{{username}}</p>-->
<!--<p>{{statement}}</p>-->

<!--<form ng-submit="getUser1(userName)">-->
<!--<input type="text" ng-model="userName"/>-->
<!--<input type="submit" value="Pobierz Kolege"/>-->
<!--</form>-->

<!--</div>-->
<!--<script src="index.js">-->
<!--</script>-->

<!--</body>-->
<!--</html>-->
